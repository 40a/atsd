# Messages: Insert

## Description

Insert messages.

## Request

### Path

```elm
/api/v1/messages/insert
```

## Method 

```
POST 
```

### Headers

|**Header**|**Value**|
|:---|:---|
| Content-Type | application/json |

## Request

An array of message objects.

### Fields

| **Field** | **Type** | **Description** |
|---|---|---|
| type | string | Message type. |
| source | string | Message source. |
| entity | string | Entity name. |
| date | string | ISO 8601 date, for example `2016-05-25T00:15:00Z`.<br>Set to current server time if omitted. |
| message | string | Message text. |
| severity | string | [Severity](../severity.md) name. |
| tags | object | An object containing `name=value` pairs, for example tags: `{"path": "/", "name": "sda"}`. | 

* Reserved fields `type` and `source` should be specified as fields, not as tags. <br>In case of collision, tags with the same names as reserved fields are discarded.
* In order for alerts generated by the rule engine to inherit message severity, set rule severity to _UNKNOWN_ on Alerts tab in the Rule Engine editor. 

## Response

### Fields

None.

### Errors

None.

## Example

### Request

#### URI

```elm
POST https://atsd_host:8443/api/v1/messages/insert
```

#### Payload

```json
[
    {
        "entity": "nurswgvml007",
        "type": "application",
        "message": "NURSWGVML007 ssh: error: connect_to localhost port 8881: failed.",
        "severity": "MAJOR",
        "source": "atsd"
    }
]
```

#### curl
```elm
curl https://atsd_host:8443/api/v1/messages/insert \
  --insecure --verbose --user {username}:{password} \
  --header "Content-Type: application/json" \
  --request POST \
  --data @file.json
```
