# Messages: Insert

## Description

Insert messages.

## Request

### Path

```elm
/api/v1/messages/insert
```

## Method 

```
POST 
```

### Headers

|**Header**|**Value**|
|:---|:---|
| Content-Type | application/json |

## Request

An array of message objects.

### Fields

| Field       | Required | Description              |
|---|---|---|
| entity | yes | Entity name. |
| date | no | Time in ISO format. |
| timestamp | no | Time in Unix milliseconds. |
| message | no | Message text. |
| severity | no | [Severity](../severity.md) name. |
| type | no | Message type |
| source | no | Message source |
| tags | no | An object containing name=value tags, for example tags: `{"path": "/", "name": "sda"}`. | 

* Reserved fields `type` and `source` should be specified as fields, not as tags. <br>In case of collision, tags with the same names as reserved fields are discarded.
* In order for alerts generated by the rule engine to inherit message severity, set rule severity to _UNKNOWN_ on Alerts tab in the Rule Engine editor. 

## Response

### Fields

None.

### Errors

None.

## Example

### Request

#### URI

```elm
POST https://atsd_host:8443/api/v1/messages/insert
```

#### Payload

```json
[
    {
        "entity": "nurswgvml007",
        "type": "application",
        "message": "NURSWGVML007 ssh: error: connect_to localhost port 8881: failed.",
        "severity": "MAJOR",
        "source": "atsd"
    }
]
```

#### curl
```elm
curl https://atsd_host:8443/api/v1/messages/insert \
  --insecure --verbose --user {username}:{password} \
  --header "Content-Type: application/json" \
  --request POST \
  --data @file.json
```
